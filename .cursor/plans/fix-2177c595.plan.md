<!-- 2177c595-7f95-463f-879e-2ce8665259eb d6bac3a4-dbe3-4c9f-9d68-003e9e5b23d0 -->
### Fix 400 Bad Request on register

The 400 comes from automatic model validation ([ApiController]) because `RegisterRequest` marks `Bio` and `ReferralSource` as required, but the frontend only sends one depending on role.

#### Current code causing 400

```47:66:backend/Controllers/HomeController.cs
        [HttpPost("register")]
        public IActionResult Register([FromBody] RegisterRequest request)
        {
            if (string.IsNullOrEmpty(request.Name) || string.IsNullOrEmpty(request.Email) || string.IsNullOrEmpty(request.Password))
            {
                return BadRequest(new { success = false, message = "Name, email, and password are required." });
            }

            if (request.Password.Length < 6)
            {
                return BadRequest(new { success = false, message = "Password must be at least 6 characters long." });
            }

            if (!_authenticationService.RegisterUser(request.Name, request.Email, request.Password, request.Role,
                request.ContactInfo, request.Instrument, request.Bio, request.ReferralSource))
            {
                return Conflict(new { success = false, message = "An account with this email already exists." });
            }

            return Ok(new { success = true, message = "Account created successfully! Please log in." });
        }
```



```82:92:backend/Controllers/HomeController.cs
    public class RegisterRequest
    {
        public required string Name { get; set; }
        public required string Email { get; set; }
        public required string Password { get; set; }
        public required string Role { get; set; }
        public required string ContactInfo { get; set; }
        public required string Instrument { get; set; }
        public required string Bio { get; set; }
        public required string ReferralSource { get; set; }
    }
```

### Edits

1) Make role-specific fields optional in `RegisterRequest` and tighten server-side validation.

```csharp
// backend/Controllers/HomeController.cs
public class RegisterRequest
{
    public required string Name { get; set; }
    public required string Email { get; set; }
    public required string Password { get; set; }
    public required string Role { get; set; }
    public string? ContactInfo { get; set; }
    public required string Instrument { get; set; }
    public string? Bio { get; set; }            // optional; only for Teacher
    public string? ReferralSource { get; set; } // optional; only for Student
}

[HttpPost("register")]
public IActionResult Register([FromBody] RegisterRequest request)
{
    if (string.IsNullOrWhiteSpace(request.Name) || string.IsNullOrWhiteSpace(request.Email) || string.IsNullOrWhiteSpace(request.Password))
        return BadRequest(new { success = false, message = "Name, email, and password are required." });

    if (request.Password.Length < 6)
        return BadRequest(new { success = false, message = "Password must be at least 6 characters long." });

    if (string.IsNullOrWhiteSpace(request.Role) || (request.Role != "Teacher" && request.Role != "Student"))
        return BadRequest(new { success = false, message = "Role must be 'Teacher' or 'Student'." });

    if (string.IsNullOrWhiteSpace(request.Instrument))
        return BadRequest(new { success = false, message = "Instrument is required." });

    if (request.Role == "Student" && string.IsNullOrWhiteSpace(request.ReferralSource))
        return BadRequest(new { success = false, message = "Referral source is required for students." });

    // Teachers: Bio optional

    if (!_authenticationService.RegisterUser(request.Name, request.Email, request.Password, request.Role,
        request.ContactInfo, request.Instrument, request.Bio, request.ReferralSource))
    {
        return Conflict(new { success = false, message = "An account with this email already exists." });
    }

    return Ok(new { success = true, message = "Account created successfully! Please log in." });
}
```

2) Optional quick frontend fallback (if you prefer not to change the backend): always include both fields in the payload.

```javascript
// frontend/resources/scripts/main.js (inside registerUser before fetch)
const requestData = { name, email, password, role, contactInfo, instrument, bio: bio || "", referralSource: referralSource || "Other" };
```

### Impact

- Stops 400s by aligning required fields with role.
- Preserves DB invariants (student `ReferralSource` still required via validation and DB NOT NULL).
- No CORS or HTTPS changes involved.

### To-dos

- [ ] Make Bio/ReferralSource optional in RegisterRequest
- [ ] Add role-specific validation in Register action
- [ ] Optionally always send bio/referralSource in registerUser